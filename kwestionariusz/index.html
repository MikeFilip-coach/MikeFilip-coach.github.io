<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mike Filip Coaching - Formularz Zg≈Çoszeniowy</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&display=swap');

        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-dark-bg: rgba(15, 15, 20, 1);
            --color-dark-surface: rgba(25, 25, 35, 1);
            --color-accent-gold: rgba(218, 165, 32, 1);
            --color-accent-gold-light: rgba(255, 215, 0, 1);
            --color-text-light: rgba(230, 230, 240, 1);
            --color-text-muted: rgba(150, 150, 160, 1);
            --color-border-dark: rgba(100, 100, 120, 1);
            --color-red-500: rgba(220, 38, 38, 1);
            --color-green-500: rgba(34, 197, 94, 1);
            --color-blue-500: rgba(59, 130, 246, 1);

            --color-background: var(--color-dark-bg);
            --color-surface: var(--color-dark-surface);
            --color-text: var(--color-text-light);
            --color-text-secondary: var(--color-text-muted);
            --color-primary: var(--color-accent-gold);
            --color-primary-hover: var(--color-accent-gold-light);
            --color-primary-active: rgba(184, 134, 11, 1);
            --color-secondary: rgba(218, 165, 32, 0.15);
            --color-secondary-hover: rgba(218, 165, 32, 0.25);
            --color-border: var(--color-border-dark);
            --color-error: var(--color-red-500);
            --color-success: var(--color-green-500);
            --color-warning: rgba(245, 158, 11, 1);
            --color-focus-ring: rgba(218, 165, 32, 0.3);

            --space-4: 4px;
            --space-6: 6px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;

            --radius-sm: 6px;
            --radius-base: 8px;
            --radius-md: 10px;
            --radius-lg: 12px;

            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04);

            --duration-fast: 150ms;
            --duration-normal: 250ms;
            --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            box-sizing: border-box;
        }

        html {
            font-size: 14px;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.5;
            color: var(--color-text);
            background-color: var(--color-background);
            -webkit-font-smoothing: antialiased;
        }

        body {
            margin: 0;
            padding: var(--space-20);
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: var(--space-32);
        }

        .header h1 {
            margin: 0 0 var(--space-8) 0;
            font-size: 36px;
            color: var(--color-primary);
            font-weight: 700;
            letter-spacing: 0.5px;
            font-family: 'Cinzel', serif;
        }

        .header p {
            margin: 0;
            color: var(--color-text-muted);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-wrapper {
            background: transparent;
            border-radius: 0;
            box-shadow: none;
            border: none;
            overflow: visible;
        }

        .section {
            padding: var(--space-24);
            border-bottom: none;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--color-primary);
            margin: 0 0 var(--space-20) 0;
            display: flex;
            align-items: center;
            gap: var(--space-12);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-family: 'Cinzel', serif;
        }

        .section-title::before {
            content: '';
            display: inline-block;
            width: 3px;
            height: 28px;
            background: linear-gradient(to bottom, var(--color-primary), var(--color-accent-gold));
            border-radius: 2px;
        }

        .form-group {
            margin-bottom: var(--space-20);
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-12);
            font-weight: 600;
            font-size: 14px;
            color: rgb(238, 232, 170);
            text-transform: uppercase;
            letter-spacing: 0.4px;
            line-height: 1.5;
        }

        .form-label-hint {
            font-weight: normal;
            color: var(--color-text-muted);
            font-size: 12px;
            display: block;
            margin-top: var(--space-4);
            text-transform: none;
            letter-spacing: 0;
        }

        .form-control {
            display: block;
            width: 100%;
            padding: var(--space-12) var(--space-16);
            font-size: 15px;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background-color: var(--color-dark-surface);
            color: var(--color-text);
            transition: border-color var(--duration-fast), box-shadow var(--duration-fast), background-color var(--duration-fast);
            line-height: 1.6;
            letter-spacing: 0.3px;
        }

        .form-control::placeholder {
            color: var(--color-text-muted);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-focus-ring);
            background-color: rgba(218, 165, 32, 0.05);
        }

        input[type="text"]:not([readonly]),
        input[type="email"]:not([readonly]),
        input[type="number"]:not([readonly]),
        input[type="time"]:not([readonly]),
        textarea {
            color: var(--color-text-light);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-20);
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: var(--space-16);
        }

        @media (max-width: 768px) {
            .form-row,
            .form-row-3 {
                grid-template-columns: 1fr;
            }
        }

        .checkbox-group,
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-12);
        }

        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-8);
        }

        .checkbox-item input[type="checkbox"],
        .radio-item input[type="radio"] {
            margin-top: 3px;
            cursor: pointer;
            width: 18px;
            height: 18px;
            accent-color: var(--color-primary);
        }

        .checkbox-item label,
        .radio-item label {
            cursor: pointer;
            flex: 1;
            font-size: 14px;
        }

        .range-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--color-border);
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .range-value {
            display: inline-block;
            margin-left: var(--space-12);
            font-weight: 600;
            color: var(--color-primary);
            font-size: 16px;
        }

        .range-container {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .goals-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-12);
        }

        @media (max-width: 768px) {
            .goals-grid {
                grid-template-columns: 1fr;
            }
        }

        .goal-card {
            padding: var(--space-12);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-base);
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-standard);
            display: flex;
            align-items: flex-start;
            gap: var(--space-8);
        }

        .goal-card:hover {
            border-color: var(--color-primary);
            background: rgba(50, 184, 198, 0.05);
        }

        .goal-card input[type="checkbox"] {
            margin-top: 2px;
            cursor: pointer;
            accent-color: var(--color-primary);
        }

        .goal-card label {
            cursor: pointer;
            flex: 1;
            font-size: 14px;
            font-weight: 500;
        }

        .info-box {
            background: rgba(50, 184, 198, 0.08);
            border-left: 4px solid var(--color-primary);
            padding: var(--space-12);
            border-radius: var(--radius-sm);
            margin: var(--space-16) 0;
            font-size: 13px;
            color: var(--color-text-secondary);
        }

        .progress-bar {
            display: flex;
            gap: var(--space-8);
            margin-bottom: var(--space-24);
            justify-content: center;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--color-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 12px;
            color: var(--color-text-muted);
            transition: all var(--duration-fast);
            border: 1px solid var(--color-border);
        }

        .progress-step.active {
            background: var(--color-primary);
            color: var(--color-dark-bg);
            box-shadow: 0 0 0 3px var(--color-focus-ring);
            border: 1px solid var(--color-primary);
        }

        .progress-step.completed {
            background: var(--color-success);
            color: var(--color-white);
            border: 1px solid var(--color-success);
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            gap: var(--space-16);
            margin-top: var(--space-32);
            padding-top: var(--space-24);
            border-top: 1px solid var(--color-border);
        }

        .btn {
            padding: var(--space-12) var(--space-24);
            border: none;
            border-radius: var(--radius-base);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-standard);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-8);
            text-decoration: none;
        }

        .btn:focus-visible {
            outline: none;
            box-shadow: 0 0 0 3px var(--color-focus-ring);
        }

        .btn--primary {
            background: var(--color-primary);
            color: var(--color-dark-bg);
            font-weight: 700;
            letter-spacing: 0.3px;
            box-shadow: 0 4px 15px rgba(218, 165, 32, 0.3);
        }

        .btn--primary:hover {
            background: var(--color-primary-hover);
            box-shadow: 0 6px 20px rgba(218, 165, 32, 0.4);
            transform: translateY(-2px);
        }

        .btn--secondary {
            background: rgba(218, 165, 32, 0.1);
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
            font-weight: 600;
        }

        .btn--secondary:hover {
            background: rgba(218, 165, 32, 0.2);
            border-color: var(--color-primary-hover);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .summary-section {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-24);
            box-shadow: var(--shadow-md);
        }

        .summary-group {
            margin-bottom: var(--space-20);
        }

        .summary-group h3 {
            margin: 0 0 var(--space-12) 0;
            font-size: 16px;
            color: var(--color-primary);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: var(--space-8) 0;
            border-bottom: 1px solid var(--color-border);
            font-size: 14px;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-item strong {
            color: var(--color-text);
        }

        .summary-item span {
            color: var(--color-text-secondary);
        }

        .export-buttons {
            display: flex;
            gap: var(--space-12);
            margin-top: var(--space-20);
        }

        .textarea-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-8);
        }

        textarea {
            min-height: 150px;
            resize: vertical;
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            font-family: inherit;
            font-size: 14px;
            color: var(--color-text);
        }

        textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-focus-ring);
        }

        textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-focus-ring);
        }

        .hidden {
            display: none;
        }

        .success-message {
            background: rgba(50, 184, 198, 0.12);
            border: 1px solid var(--color-success);
            color: var(--color-primary);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            text-align: center;
            font-weight: 500;
        }

        .conditional-field {
            background: rgba(218, 165, 32, 0.08);
            border-left: 3px solid var(--color-primary);
            padding: var(--space-16);
            border-radius: var(--radius-sm);
            margin-top: var(--space-12);
            border: 1px solid var(--color-border);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mike Filip Coaching</h1>
            <p>Formularz Zg≈Çoszeniowy</p>
        </div>

        <div class="form-wrapper">
            <div class="progress-bar" id="progressBar"></div>

            <!-- SEKCJA 1: DANE PODSTAWOWE -->
            <div class="section active" id="section1">
                <h2 class="section-title">Dane Podstawowe</h2>
                
                <div class="form-group">
                    <label class="form-label">Imiƒô</label>
                    <input type="text" class="form-control" id="firstName" placeholder="Np. Jan">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">P≈Çeƒá</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="male" name="gender" value="Mƒô≈ºczyzna">
                                <label for="male">Mƒô≈ºczyzna</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="female" name="gender" value="Kobieta">
                                <label for="female">Kobieta</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Wiek</label>
                        <input type="number" class="form-control" id="age" placeholder="Np. 30" min="0" max="120">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Wzrost (cm)</label>
                        <input type="number" class="form-control" id="height" placeholder="Np. 180" min="100" max="220">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Waga (kg)</label>
                        <input type="number" class="form-control" id="weight" placeholder="Np. 85" min="30" max="200" step="0.1">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()" disabled>‚Üê Wr√≥ƒá</button>
                    <button class="btn btn--primary" onclick="if(validateSection()) nextSection()">Dalej ‚Üí</button>
                </div>
            </div>

            <!-- SEKCJA 2: POZIOM AKTYWNO≈öCI -->
            <div class="section" id="section2">
                <h2 class="section-title">Poziom Aktywno≈õci i Styl ≈ªycia</h2>

                <div class="form-group">
                    <label class="form-label">Rodzaj pracy (tryb pracy)</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="workMode" value="Praca biurowa / siedzƒÖca">
                            <label>Praca biurowa / siedzƒÖca (wiƒôkszo≈õƒá czasu siedzƒô)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="workMode" value="Praca mieszana (siedzenie i aktywno≈õƒá fizyczna)">
                            <label>Praca mieszana (siedzenie i aktywno≈õƒá fizyczna)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="workMode" value="Praca aktywna fizycznie (wiƒôkszo≈õƒá czasu na nogach)">
                            <label>Praca aktywna fizycznie (wiƒôkszo≈õƒá czasu na nogach)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="workMode" value="Praca bardzo intensywna / manualna">
                            <label>Praca bardzo intensywna / manualna</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Uprawianie sportu / treningi</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="sportActivity" value="Nie ƒáwiczƒô">
                            <label>Nie ƒáwiczƒô</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sportActivity" value="1-2 razy w tygodniu">
                            <label>1-2 razy w tygodniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sportActivity" value="3-4 razy w tygodniu">
                            <label>3-4 razy w tygodniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sportActivity" value="5-6 razy w tygodniu">
                            <label>5-6 razy w tygodniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sportActivity" value="Codziennie">
                            <label>Codziennie</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Rodzaj treningu
                        <span class="form-label-hint">(wybierz wszystkie, kt√≥re wykonujesz)</span>
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="trainingType" value="Obecnie nic nie ƒáwiczƒô">
                            <label>Obecnie nic nie ƒáwiczƒô</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="trainingType" value="Trening si≈Çowy">
                            <label>Trening si≈Çowy</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="trainingType" value="Cardio / bieganie">
                            <label>Cardio / bieganie</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="trainingType" value="Joga / pilates / stretching">
                            <label>Joga / pilates / stretching</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="trainingType" value="HIIT">
                            <label>HIIT</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="trainingType" value="Sport zespo≈Çowy">
                            <label>Sport zespo≈Çowy</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="trainingType" value="Inne">
                            <label>Inne</label>
                        </div>
                    </div>
                    <div class="form-group" id="otherTrainingInput" style="display: none; margin-top: var(--space-12);">
                        <input type="text" class="form-control" id="otherTrainingType" placeholder="Jaki to rodzaj treningu? (np. koszyk√≥wka, p≈Çywanie)">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Aktywno≈õƒá wieczorem w dni pracujƒÖce</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="eveningActivity" value="Ma≈Ça aktywno≈õƒá (relaks, TV)">
                            <label>Ma≈Ça aktywno≈õƒá (relaks, TV)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="eveningActivity" value="≈örednia aktywno≈õƒá (spacery, domowe obowiƒÖzki)">
                            <label>≈örednia aktywno≈õƒá (spacery, domowe obowiƒÖzki)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="eveningActivity" value="Du≈ºa aktywno≈õƒá (trening, sport)">
                            <label>Du≈ºa aktywno≈õƒá (trening, sport)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Aktywno≈õƒá w dni wolne</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="weekendActivity" value="Ca≈Çkowity odpoczynek (siedzƒô w domu)">
                            <label>Ca≈Çkowity odpoczynek (siedzƒô w domu)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="weekendActivity" value="Lekka aktywno≈õƒá (spacery, prace domowe)">
                            <label>Lekka aktywno≈õƒá (spacery, prace domowe)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="weekendActivity" value="≈örednia aktywno≈õƒá (jeden intensywny trening, reszta dnia umiarkowana)">
                            <label>≈örednia aktywno≈õƒá (jeden intensywny trening, reszta dnia umiarkowana)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="weekendActivity" value="Aktywny dzie≈Ñ (sport, wƒôdr√≥wki)">
                            <label>Aktywny dzie≈Ñ (sport, wƒôdr√≥wki)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="weekendActivity" value="Bardzo aktywne dni (intensywny sport)">
                            <label>Bardzo aktywne dni (intensywny sport)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">≈örednia liczba krok√≥w dziennie</label>
                    <div class="range-container">
                        <input type="range" id="stepsRange" class="range-slider" min="0" max="30000" value="7000" step="500">
                        <span class="range-value" id="stepsValue">7000</span>
                    </div>
                    <span class="form-label-hint">Szacunkowa liczba krok√≥w dziennie. Je≈õli nie wiesz, wybierz zero</span>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()">‚Üê Wr√≥ƒá</button>
                    <button class="btn btn--primary" onclick="nextSection()">Dalej ‚Üí</button>
                </div>
            </div>

            <!-- SEKCJA 3: CELE -->
            <div class="section" id="section3">
                <h2 class="section-title">Twoje Cele</h2>
                <p style="color: var(--color-text-secondary); margin-bottom: var(--space-16);">Mo≈ºesz wybraƒá jeden lub wiele cel√≥w</p>

                <div class="goals-grid">
                    <div class="goal-card">
                        <input type="checkbox" name="goals" value="WyjƒÖtkowa wydajno≈õƒá fizyczna i atrakcyjny wyglƒÖd" id="goal1">
                        <label for="goal1">üí™ <strong>Wydajno≈õƒá fizyczna i atrakcyjny wyglƒÖd</strong><br><span style="font-size: 12px; color: var(--color-text-secondary);">Si≈Ça, miƒô≈õnie, wyszczuplenie</span></label>
                    </div>

                    <div class="goal-card">
                        <input type="checkbox" name="goals" value="UtrzymujƒÖca siƒô energia i podniesiony nastr√≥j" id="goal2">
                        <label for="goal2">‚ö° <strong>Energia i podniesiony nastr√≥j</strong><br><span style="font-size: 12px; color: var(--color-text-secondary);">Stabilny poziom energii przez ca≈Çy dzie≈Ñ</span></label>
                    </div>

                    <div class="goal-card">
                        <input type="checkbox" name="goals" value="Wyostrzone funkcje poznawcze i doskona≈Ça pamiƒôƒá" id="goal3">
                        <label for="goal3">üß† <strong>Wyostrzone funkcje poznawcze</strong><br><span style="font-size: 12px; color: var(--color-text-secondary);">Fokus, pamiƒôƒá, jasno≈õƒá umys≈Çu</span></label>
                    </div>

                    <div class="goal-card">
                        <input type="checkbox" name="goals" value="WyjƒÖtkowa witalno≈õƒá seksualna" id="goal4">
                        <label for="goal4">‚ù§Ô∏è‚Äçüî• <strong>Witalno≈õƒá seksualna</strong><br><span style="font-size: 12px; color: var(--color-text-secondary);">≈ªyczliwo≈õƒá i wydajno≈õƒá</span></label>
                    </div>

                    <div class="goal-card">
                        <input type="checkbox" name="goals" value="Doskona≈Çe zdrowie i odporno≈õƒá" id="goal5">
                        <label for="goal5">üõ°Ô∏è <strong>Zdrowie i odporno≈õƒá</strong><br><span style="font-size: 12px; color: var(--color-text-secondary);">Zachwyt chorobom, szybka regeneracja</span></label>
                    </div>

                    <div class="goal-card">
                        <input type="checkbox" name="goals" value="Zwiƒôkszona pewno≈õƒá siebie" id="goal6">
                        <label for="goal6">‚ú® <strong>Pewno≈õƒá siebie</strong><br><span style="font-size: 12px; color: var(--color-text-secondary);">Autoprezentacja, zmiana wizerunku</span></label>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()">‚Üê Wr√≥ƒá</button>
                    <button class="btn btn--primary" onclick="nextSection()">Dalej ‚Üí</button>
                </div>
            </div>

            <!-- SEKCJA 4: TRENING SI≈ÅOWY -->
            <div class="section" id="section4">
                <h2 class="section-title">Do≈õwiadczenie w Treningu Si≈Çowym</h2>

                <div class="form-group">
                    <label class="form-label">Jaki rodzaj zmƒôczenia preferujesz?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="fatiguePreference" value="Lubiƒô czuƒá ‚Äûpompƒô" miƒô≈õniowƒÖ i ciƒô≈ºar">
                            <label>Lubiƒô czuƒá ‚Äûpompƒô" miƒô≈õniowƒÖ i ciƒô≈ºar</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fatiguePreference" value="Lubiƒô siƒô mocno spociƒá i zadyszeƒá">
                            <label>Lubiƒô siƒô mocno spociƒá i zadyszeƒá</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fatiguePreference" value="Lubiƒô czuƒá, ≈ºe cia≈Ço jest sprawniejsze, ale bez ‚Äûzaje≈ºd≈ºania siƒô"">
                            <label>Lubiƒô czuƒá, ≈ºe cia≈Ço jest sprawniejsze, ale bez ‚Äûzaje≈ºd≈ºania siƒô"</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fatiguePreference" value="Ciƒô≈ºko powiedzieƒá, rzadko ƒáwiczƒô">
                            <label>Ciƒô≈ºko powiedzieƒá, rzadko ƒáwiczƒô</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Twoje do≈õwiadczenie (samoocena)</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="strengthExperience" value="Brak (nigdy nie trenowa≈Çem si≈Çowo)">
                            <label>Brak (nigdy nie trenowa≈Çem si≈Çowo)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="strengthExperience" value="PoczƒÖtkujƒÖcy (do 1 roku treningu)">
                            <label>PoczƒÖtkujƒÖcy (do 1 roku treningu)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="strengthExperience" value="≈öredniozaawansowany (1-3 lata treningu)">
                            <label>≈öredniozaawansowany (1-3 lata treningu)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="strengthExperience" value="Zaawansowany (3-5 lat treningu)">
                            <label>Zaawansowany (3-5 lat treningu)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="strengthExperience" value="Expert (5+ lat treningu)">
                            <label>Expert (5+ lat treningu)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">G≈Ç√≥wny cel trening√≥w si≈Çowych</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="trainingGoal" value="Zwiƒôkszenie si≈Çy">
                            <label>Zwiƒôkszenie si≈Çy</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingGoal" value="Budowa masy miƒô≈õniowej (hypertrofia)">
                            <label>Budowa masy miƒô≈õniowej (hypertrofia)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingGoal" value="Wyszczuplenie / definicja miƒô≈õni">
                            <label>Wyszczuplenie / definicja miƒô≈õni</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingGoal" value="Og√≥lna kondycja i zdrowie">
                            <label>Og√≥lna kondycja i zdrowie</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingGoal" value="Nie wiem / nie mam konkretnego celu">
                            <label>Nie wiem / nie mam konkretnego celu</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Mo≈ºliwo≈õci czasowe (dni w tygodniu dostƒôpne do treningu)</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="trainingTime" value="1-2 dni w tygodniu">
                            <label>1-2 dni w tygodniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingTime" value="3-4 dni w tygodniu">
                            <label>3-4 dni w tygodniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingTime" value="5-6 dni w tygodniu">
                            <label>5-6 dni w tygodniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingTime" value="Codziennie">
                            <label>Codziennie</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Jaki jest Tw√≥j preferowany czas na trening?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="trainingTimeOfDay" value="Poranki">
                            <label>Poranki</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingTimeOfDay" value="Popo≈Çudnia">
                            <label>Popo≈Çudnia</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="trainingTimeOfDay" value="Wieczory">
                            <label>Wieczory</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy abym uwzglƒôdni≈Ç ca≈Çy czas potrzebny na zorganizowanie jednostki treningowej?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="totalTimeRequirement" value="Nie">
                            <label>Nie (tylko czas treningu)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="totalTimeRequirement" value="Tak">
                            <label>Tak (ca≈Çy czas w si≈Çowni + dojazd)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group conditional-field" id="trainingDurationField" style="display: none;">
                    <label class="form-label">Ile czasu mo≈ºesz po≈õwiƒôciƒá na trening?</label>
                    <div class="range-container">
                        <input type="range" id="trainingDuration" class="range-slider" min="45" max="120" value="60" step="15">
                        <span class="range-value" id="trainingDurationValue">60 min</span>
                    </div>
                </div>

                <div class="form-group conditional-field" id="totalTimeField" style="display: none;">
                    <label class="form-label">Jak du≈ºo czasu w dni treningowe jeste≈õ w stanie po≈õwiƒôciƒá? (Od wyj≈õcia z domu do wej≈õcia do domu)</label>
                    <div class="range-container">
                        <input type="range" id="totalTime" class="range-slider" min="90" max="180" value="120" step="15">
                        <span class="range-value" id="totalTimeValue">2 godz 0 min</span>
                    </div>
                </div>

                <div class="form-group conditional-field" id="showerField" style="display: none;">
                    <label class="form-label">Czy zamierzasz braƒá prysznic na si≈Çowini?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="showerAtGym" value="Tak">
                            <label>Tak</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="showerAtGym" value="Nie">
                            <label>Nie</label>
                        </div>
                    </div>
                </div>

                <div class="form-group conditional-field" id="commutTimeField" style="display: none;">
                    <label class="form-label">Jak d≈Çugo trwa dojazd na TwojƒÖ si≈Çowniƒô? (Przejazd w jednƒÖ stronƒô)</label>
                    <div class="range-container">
                        <input type="range" id="commuteTime" class="range-slider" min="5" max="60" value="15" step="5">
                        <span class="range-value" id="commuteTimeValue">15 min</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy masz obecnie jakie≈õ kontuzje lub ograniczenia fizyczne?</label>
                    <textarea class="form-control" id="injuries" placeholder="Np. problemy z plecami, kolanami, b√≥le szyi, itp. Je≈õli nie masz, zostawiƒá puste." style="min-height: 80px; resize: vertical;"></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy mia≈Çe≈õ kiedy≈õ jakie≈õ istotne kontuzje, operacje, schorzenia? Je≈õli tak to kiedy i czy dalej to jako≈õ odczuwasz?</label>
                    <textarea class="form-control" id="pastInjuries" placeholder="Wszystko mo≈ºe mieƒá znaczenie przy ciƒô≈ºkim treningu, np. mia≈Çem kilka lat temu operacje kolana, mia≈Çem wycinany wyrostek rok temu, operacja przepukliny. Je≈õli nic, pozostaw puste pole." style="min-height: 80px; resize: vertical;"></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()">‚Üê Wr√≥ƒá</button>
                    <button class="btn btn--primary" onclick="nextSection()">Dalej ‚Üí</button>
                </div>
            </div>

            <!-- SEKCJA 5: SEN -->
            <div class="section" id="section5">
                <h2 class="section-title">Jako≈õƒá Snu i Regeneracji</h2>

                <div class="form-group">
                    <label class="form-label">O kt√≥rej zwykle wstajesz?</label>
                    <input type="time" class="form-control" id="wakeupTime">
                </div>

                <div class="form-group">
                    <label class="form-label">≈öredni czas snu</label>
                    <div class="range-container">
                        <input type="range" id="sleepHours" class="range-slider" min="3" max="12" value="7" step="0.5">
                        <span class="range-value" id="sleepHoursValue">7 h</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Og√≥lna jako≈õƒá snu</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="sleepQuality" value="Bardzo z≈Ça (wiele przebudze≈Ñ, nie czujƒô siƒô wyspany)">
                            <label>Bardzo z≈Ça (wiele przebudze≈Ñ, nie czujƒô siƒô wyspany)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sleepQuality" value="Z≈Ça (przerywany sen, czujƒô zmƒôczenie)">
                            <label>Z≈Ça (przerywany sen, czujƒô zmƒôczenie)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sleepQuality" value="≈örednia (raz lepiej raz gorzej)">
                            <label>≈örednia (raz lepiej raz gorzej)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sleepQuality" value="Dobra (≈õpiƒô dobrze, rano czujƒô siƒô wypoczƒôty)">
                            <label>Dobra (≈õpiƒô dobrze, rano czujƒô siƒô wypoczƒôty)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="sleepQuality" value="Doskona≈Ça (idealny sen, zawsze czujƒô siƒô najlepiej)">
                            <label>Doskona≈Ça (idealny sen, zawsze czujƒô siƒô najlepiej)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Problemy z zasypianiem</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="fallAsleep" value="≈Åatwo zasypiam (do 10 minut)">
                            <label>≈Åatwo zasypiam (do 10 minut)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fallAsleep" value="Czasami mam problemy (15-30 minut)">
                            <label>Czasami mam problemy (15-30 minut)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fallAsleep" value="Mam trudno≈õci (30-60 minut)">
                            <label>Mam trudno≈õci (30-60 minut)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fallAsleep" value="Powa≈ºne problemy (ponad 60 minut)">
                            <label>Powa≈ºne problemy (ponad 60 minut)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Problemy w trakcie nocy</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepIssues" value="Przerywany sen (wiele przebudze≈Ñ)">
                            <label>Przerywany sen (wiele przebudze≈Ñ)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepIssues" value="Koszmary / z≈Çe sny">
                            <label>Koszmary / z≈Çe sny</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepIssues" value="Pocenie siƒô w nocy">
                            <label>Pocenie siƒô w nocy</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepIssues" value="Czƒôste wizyty do toalety">
                            <label>Czƒôste wizyty do toalety</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepIssues" value="≈ªaden z powy≈ºszych">
                            <label>≈ªaden z powy≈ºszych</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czynniki wp≈ÇywajƒÖce na m√≥j sen</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Zbyt du≈ºo ≈õwiat≈Ça w sypialni">
                            <label>Zbyt du≈ºo ≈õwiat≈Ça w sypialni</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Niebieskie ≈õwiat≈Ço (telefon, komputer przed snem)">
                            <label>Niebieskie ≈õwiat≈Ço (telefon, komputer przed snem)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Ha≈Ças">
                            <label>Ha≈Ças</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Za wysoka temperatura w sypialni">
                            <label>Za wysoka temperatura w sypialni</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Za niska temperatura w sypialni">
                            <label>Za niska temperatura w sypialni</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Ma≈Çe dziecko">
                            <label>Ma≈Çe dziecko</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Chrapanie partnera">
                            <label>Chrapanie partnera</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Pies / kot">
                            <label>Pies / kot</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Stres / problemy umys≈Çowe">
                            <label>Stres / problemy umys≈Çowe</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Kofeina wieczorem">
                            <label>Kofeina wieczorem</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="≈ªaden z wymienionych">
                            <label>≈ªaden z wymienionych</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="sleepFactors" value="Inne">
                            <label>Inne</label>
                        </div>
                    </div>
                    <div class="form-group" id="otherSleepFactorsInput" style="display: none; margin-top: var(--space-12);">
                        <input type="text" class="form-control" id="otherSleepFactorsType" placeholder="Jaki inny czynnik wp≈Çywa na Tw√≥j sen?">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy ≈Çatwo Ci siƒô wstaje nad ranem?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="morningWakeup" value="Nie, walczƒô z przebudzeniem siƒô">
                            <label>Nie, walczƒô z przebudzeniem siƒô</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="morningWakeup" value="Czasami mam trudno≈õci">
                            <label>Czasami mam trudno≈õci</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="morningWakeup" value="Mogƒô siƒô obudziƒá, ale potrzebujƒô czasu">
                            <label>Mogƒô siƒô obudziƒá, ale potrzebujƒô czasu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="morningWakeup" value="Tak, ≈Çatwo siƒô budzƒô">
                            <label>Tak, ≈Çatwo siƒô budzƒô</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="morningWakeup" value="Tak, budzƒô siƒô naturalnie bez budzika">
                            <label>Tak, budzƒô siƒô naturalnie bez budzika</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy ustawiasz drzemkƒô po zadzwonieniu budzika?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="snooze" value="Nie">
                            <label>Nie</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="snooze" value="Tak">
                            <label>Tak</label>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()">‚Üê Wr√≥ƒá</button>
                    <button class="btn btn--primary" onclick="nextSection()">Dalej ‚Üí</button>
                </div>
            </div>

            <!-- SEKCJA 6: POSI≈ÅKI I SAMOPOCZUCIE -->
            <div class="section" id="section6">
                <h2 class="section-title">Posi≈Çki i Samopoczucie Poposi≈Çkowe</h2>

                <div class="form-group">
                    <label class="form-label">Kiedy jesz sw√≥j pierwszy posi≈Çek dnia w tygodniu?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="firstMealTiming" value="Z samego rana, nied≈Çugo po przebudzeniu">
                            <label>Z samego rana, nied≈Çugo po przebudzeniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="firstMealTiming" value="1-2 godziny po przebudzeniu">
                            <label>1-2 godziny po przebudzeniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="firstMealTiming" value="Ok godziny 10:00 w pracy">
                            <label>Ok godziny 10:00 w pracy</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="firstMealTiming" value="Ok. godziny 12:00">
                            <label>Ok. godziny 12:00</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="firstMealTiming" value="Po 13:00">
                            <label>Po 13:00</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Preferencje dietetyczne / ograniczenia</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="dietRestrictions" value="Brak ogranicze≈Ñ">
                            <label>Brak ogranicze≈Ñ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="dietRestrictions" value="Alergia na gluten">
                            <label>Alergia na gluten</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="dietRestrictions" value="Alergia na orzechy">
                            <label>Alergia na orzechy</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="dietRestrictions" value="Nietolerancja laktozy">
                            <label>Nietolerancja laktozy</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="dietRestrictions" value="Dieta wegetaria≈Ñska">
                            <label>Dieta wegetaria≈Ñska</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="dietRestrictions" value="Dieta wega≈Ñska">
                            <label>Dieta wega≈Ñska</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="dietRestrictions" value="Inne">
                            <label>Inne</label>
                        </div>
                    </div>
                    <div class="form-group" id="otherDietInput" style="display: none; margin-top: var(--space-12);">
                        <input type="text" class="form-control" id="otherDietType" placeholder="Jakie sƒÖ Twoje inne ograniczenia?">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy dbasz o optymalnƒÖ ilo≈õƒá bia≈Çka w ciƒÖgu dnia?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="proteinFocus" value="Nie my≈õlƒô o tym">
                            <label>Nie my≈õlƒô o tym</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="proteinFocus" value="Jem ma≈Ço bia≈Çka">
                            <label>Jem ma≈Ço bia≈Çka</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="proteinFocus" value="Staram siƒô je≈õƒá wystarczajƒÖco bia≈Çka">
                            <label>Staram siƒô je≈õƒá wystarczajƒÖco bia≈Çka</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="proteinFocus" value="Pijƒô dodatkowo od≈ºywkƒô bia≈ÇkowƒÖ">
                            <label>Pijƒô dodatkowo od≈ºywkƒô bia≈ÇkowƒÖ</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="proteinFocus" value="Dok≈Çadnie liczƒô bia≈Çko">
                            <label>Dok≈Çadnie liczƒô bia≈Çko</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Samopoczucie po pierwszym posi≈Çku dnia - co najczƒô≈õciej czujesz?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Energiczny i skoncentrowany">
                            <label>Energiczny i skoncentrowany</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Ospa≈Çy / chƒôƒá do drzemki">
                            <label>Ospa≈Çy / chƒôƒá do drzemki</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Zbyt pe≈Çny / opuchniƒôty">
                            <label>Zbyt pe≈Çny / opuchniƒôty</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Dra≈ºliwo≈õƒá / z≈Çe nastroje">
                            <label>Dra≈ºliwo≈õƒá / z≈Çe nastroje</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Problemy trawienne">
                            <label>Problemy trawienne</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Przyspieszone bicie serca / niepok√≥j">
                            <label>Przyspieszone bicie serca / niepok√≥j</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Chƒôƒá na zjedzenie czego≈õ s≈Çodkiego nied≈Çugo po posi≈Çku">
                            <label>Chƒôƒá na zjedzenie czego≈õ s≈Çodkiego nied≈Çugo po posi≈Çku</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postBreakfastFeel" value="Brak problem√≥w - czujƒô siƒô dobrze">
                            <label>Brak problem√≥w - czujƒô siƒô dobrze</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Wymie≈Ñ swoje 3 ulubione potrawy</label>
                    <input type="text" class="form-control" id="favoriteDishes" placeholder="np. pizza, schabowy z ziemniakami, pierogi">
                </div>

                <div class="form-group">
                    <label class="form-label">Samopoczucie po g≈Ç√≥wnym posi≈Çku dnia - co najczƒô≈õciej czujesz?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Energiczny i skoncentrowany">
                            <label>Energiczny i skoncentrowany</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Ospa≈Çy / chƒôƒá do drzemki">
                            <label>Ospa≈Çy / chƒôƒá do drzemki</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Zbyt pe≈Çny / opuchniƒôty">
                            <label>Zbyt pe≈Çny / opuchniƒôty</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Dra≈ºliwo≈õƒá / z≈Çe nastroje">
                            <label>Dra≈ºliwo≈õƒá / z≈Çe nastroje</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Problemy trawienne">
                            <label>Problemy trawienne</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Przyspieszone bicie serca / niepok√≥j">
                            <label>Przyspieszone bicie serca / niepok√≥j</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Chƒôƒá na zjedzenie czego≈õ s≈Çodkiego nied≈Çugo po posi≈Çku">
                            <label>Chƒôƒá na zjedzenie czego≈õ s≈Çodkiego nied≈Çugo po posi≈Çku</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="postMainMealFeel" value="Brak problem√≥w - czujƒô siƒô dobrze">
                            <label>Brak problem√≥w - czujƒô siƒô dobrze</label>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()">‚Üê Wr√≥ƒá</button>
                    <button class="btn btn--primary" onclick="nextSection()">Dalej ‚Üí</button>
                </div>
            </div>

            <!-- SEKCJA 7: OG√ìLNE SAMOPOCZUCIE -->
            <div class="section" id="section7">
                <h2 class="section-title">Og√≥lne Samopoczucie, Energia i Motywacja</h2>

                <div class="form-group">
                    <label class="form-label">Poziom energii w ciƒÖgu dnia</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="energyLevel" value="Nie mam energii przez ca≈Çy dzie≈Ñ">
                            <label>Nie mam energii przez ca≈Çy dzie≈Ñ</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="energyLevel" value="Umiarkowany poziom energii przez ca≈Çy dzie≈Ñ">
                            <label>Umiarkowany poziom energii przez ca≈Çy dzie≈Ñ</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="energyLevel" value="Czasem mam wiƒôcej energii, czasem mniej">
                            <label>Czasem mam wiƒôcej energii, czasem mniej</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="energyLevel" value="Mam wiƒôcej energii rano i mniej wieczorem">
                            <label>Mam wiƒôcej energii rano i mniej wieczorem</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="energyLevel" value="Mam ma≈Ço energii rano, a wiƒôcej po po≈Çudniu">
                            <label>Mam ma≈Ço energii rano, a wiƒôcej po po≈Çudniu</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="energyLevel" value="Generalnie czujƒô, ≈ºe mam du≈ºo energii przez ca≈Çy dzie≈Ñ">
                            <label>Generalnie czujƒô, ≈ºe mam du≈ºo energii przez ca≈Çy dzie≈Ñ</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Jak opiszesz sw√≥j ≈õredni nastr√≥j?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="mood" value="Depresyjny / bardzo smutny">
                            <label>Depresyjny / bardzo smutny</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="mood" value="Czasami smutny / melancholijny">
                            <label>Czasami smutny / melancholijny</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="mood" value="Neutralny / ≈õredni">
                            <label>Neutralny / ≈õredni</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="mood" value="Pozytywny / zadowolony">
                            <label>Pozytywny / zadowolony</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="mood" value="Bardzo pozytywny / wspaniale siƒô czujƒô">
                            <label>Bardzo pozytywny / wspaniale siƒô czujƒô</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy masz inny nastr√≥j / poziom energii w dni wolne od pracy?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="weekendDifference" value="Nie">
                            <label>Nie</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="weekendDifference" value="Tak">
                            <label>Tak</label>
                        </div>
                    </div>
                    <div class="form-group" id="weekendDifferenceInput" style="display: none; margin-top: var(--space-12);">
                        <input type="text" class="form-control" id="weekendDifferenceText" placeholder="Np. wiƒôcej ≈õpiƒô, mniej stresu, inne nawyki...">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Poziom stresu</label>
                    <div class="range-container">
                        <input type="range" id="stressLevel" class="range-slider" min="0" max="10" value="5" step="1">
                        <span class="range-value" id="stressValue">5/10</span>
                    </div>
                    <span class="form-label-hint">0 - brak stresu | 10 - maksymalny stres</span>
                </div>

                <div class="form-group">
                    <label class="form-label">Motywacja do zmian</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="motivation" value="Niska (nie jestem pewien, czy chcƒô siƒô zmieniƒá)">
                            <label>Niska (nie jestem pewien, czy chcƒô siƒô zmieniƒá)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="motivation" value="≈örednia (chcƒô siƒô zmieniƒá, ale brakuje mi konsekwencji)">
                            <label>≈örednia (chcƒô siƒô zmieniƒá, ale brakuje mi konsekwencji)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="motivation" value="Wysoka (chcƒô siƒô zmieniƒá, wyznaczƒô sobie cele)">
                            <label>Wysoka (chcƒô siƒô zmieniƒá, wyznaczƒô sobie cele)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="motivation" value="Bardzo wysoka (got√≥w jestem na wszystko dla zmian)">
                            <label>Bardzo wysoka (got√≥w jestem na wszystko dla zmian)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Zaznacz, czy wystƒôpujƒÖ u Ciebie poni≈ºsze objawy</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="symptoms" value="Skurcze miƒô≈õni / drganie powieki">
                            <label>Skurcze miƒô≈õni / drganie powieki</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="symptoms" value="Obni≈ºona odporno≈õƒá, czƒôste przeziƒôbienia">
                            <label>Obni≈ºona odporno≈õƒá, czƒôste przeziƒôbienia</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="symptoms" value="Sucha sk√≥ra, ≈Çamliwe paznokcie/w≈Çosy">
                            <label>Sucha sk√≥ra, ≈Çamliwe paznokcie/w≈Çosy</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="symptoms" value="Spadek libido">
                            <label>Spadek libido</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="symptoms" value="Trudno≈õci z koncentracjƒÖ / ‚Äûmg≈Ça m√≥zgowa"">
                            <label>Trudno≈õci z koncentracjƒÖ / ‚Äûmg≈Ça m√≥zgowa"</label>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="menstrualCycleField" style="display: none;">
                    <label class="form-label">Czy masz regularne cykle miesiƒÖczkowe?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="menstrualCycle" value="Tak">
                            <label>Tak</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="menstrualCycle" value="Nie">
                            <label>Nie</label>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="contraceptionField" style="display: none;">
                    <label class="form-label">Czy bierzesz regularnie leki antykoncepcyjne?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="contraception" value="Tak">
                            <label>Tak</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="contraception" value="Nie">
                            <label>Nie</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy masz historiƒô zdrowotnƒÖ / chor√≥b, kt√≥re powinienem wiedzieƒá?</label>
                    <textarea class="form-control" id="healthHistory" placeholder="Np. cukrzyca, wysokie ci≈õnienie, problemy kardiologiczne, zaburzenia autoimune, itp. Je≈õli nic istotnego, zostawiƒá puste." style="min-height: 80px; resize: vertical;"></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Czy aktualnie bierzesz jakie≈õ suplementy lub leki?</label>
                    <textarea class="form-control" id="supplements" placeholder="Je≈õli suplementy - podaj dok≈Çadnie markƒô oraz dawkƒô (np. Vitalia D3 2000 IU, ZM3 Magnesium 300mg). Je≈õli leki - nie trzeba dawki. Je≈õli nic nie bierzesz, napisz 'Nie'." style="min-height: 80px; resize: vertical;"></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Dodatkowe uwagi / pytania</label>
                    <textarea class="form-control" id="additionalNotes" placeholder="Cokolwiek, co uwa≈ºasz za istotne..." style="min-height: 80px; resize: vertical;"></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()">‚Üê Wr√≥ƒá</button>
                    <button class="btn btn--primary" onclick="nextSection()">Podsumowanie ‚Üí</button>
                </div>
            </div>

            <!-- SEKCJA 8: PODSUMOWANIE -->
            <div class="section" id="section8">
                <h2 class="section-title">Podsumowanie Zg≈Çoszenia</h2>
                <p style="color: var(--color-text-secondary); margin-bottom: var(--space-20);">Poni≈ºej znajduje siƒô podsumowanie Twoich odpowiedzi</p>

                <div class="summary-section" id="summaryContent">
                    <!-- Podsumowanie bƒôdzie generowane przez JavaScript -->
                </div>

                <div class="export-buttons">
                    <button class="btn btn--primary" onclick="submitForm()">‚úâÔ∏è Wy≈õlij</button>
                </div>

                <div class="button-group">
                    <button class="btn btn--secondary" onclick="previousSection()">‚Üê Wr√≥ƒá do edycji</button>
                </div>
            </div>
        </div>
    </div>

    <!-- jsPDF library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script>
        let currentSection = 1;
        const totalSections = 8;

        function initProgressBar() {
            const progressBar = document.getElementById('progressBar');
            progressBar.innerHTML = '';
            for (let i = 1; i <= totalSections; i++) {
                const step = document.createElement('div');
                step.className = 'progress-step' + (i === 1 ? ' active' : '');
                step.textContent = i;
                step.id = `progress-${i}`;
                progressBar.appendChild(step);
            }
        }

        function showSection(section) {
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
            document.getElementById(`section${section}`).classList.add('active');

            document.querySelectorAll('.progress-step').forEach((el, i) => {
                el.classList.remove('active', 'completed');
                if (i + 1 < section) el.classList.add('completed');
                if (i + 1 === section) el.classList.add('active');
            });

            document.querySelector('.button-group button[onclick="previousSection()"]').disabled = section === 1;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function nextSection() {
            if (currentSection < totalSections) {
                currentSection++;
                showSection(currentSection);
                if (currentSection === totalSections) {
                    generateSummary();
                }
            }
        }

        function validateSection() {
            if (currentSection === 1) {
                const firstName = document.getElementById('firstName').value.trim();
                const gender = document.querySelector('input[name="gender"]:checked');
                const age = document.getElementById('age').value;
                const height = document.getElementById('height').value;
                const weight = document.getElementById('weight').value;

                if (!firstName || !gender || !age || !height || !weight) {
                    alert('Proszƒô wype≈Çniƒá wszystkie pola na tej stronie');
                    return false;
                }

                const ageNum = parseInt(age);
                if (ageNum < 18 || ageNum > 120) {
                    alert('Wiek musi byƒá miƒôdzy 18 a 120 lat');
                    return false;
                }

                const weightNum = parseFloat(weight);
                if (weightNum < 30 || weightNum > 200) {
                    alert('Waga musi byƒá miƒôdzy 30 a 200 kg');
                    return false;
                }
            }
            return true;
        }

        function previousSection() {
            if (currentSection > 1) {
                currentSection--;
                showSection(currentSection);
            }
        }

        function toggleTimeFields() {
            const totalTimeRequirement = document.querySelector('input[name="totalTimeRequirement"]:checked');
            const trainingDurationField = document.getElementById('trainingDurationField');
            const totalTimeField = document.getElementById('totalTimeField');
            const showerField = document.getElementById('showerField');
            const commutTimeField = document.getElementById('commutTimeField');

            if (!totalTimeRequirement) return;

            if (totalTimeRequirement.value === 'Tak') {
                trainingDurationField.style.display = 'none';
                trainingDurationField.setAttribute('aria-hidden', 'true');
                totalTimeField.style.display = 'block';
                totalTimeField.setAttribute('aria-hidden', 'false');
                showerField.style.display = 'block';
                showerField.setAttribute('aria-hidden', 'false');
                commutTimeField.style.display = 'block';
                commutTimeField.setAttribute('aria-hidden', 'false');
            } else {
                trainingDurationField.style.display = 'block';
                trainingDurationField.setAttribute('aria-hidden', 'false');
                totalTimeField.style.display = 'none';
                totalTimeField.setAttribute('aria-hidden', 'true');
                showerField.style.display = 'none';
                showerField.setAttribute('aria-hidden', 'true');
                commutTimeField.style.display = 'none';
                commutTimeField.setAttribute('aria-hidden', 'true');
            }
        }
        
        // Add event listeners for conditional fields
        document.addEventListener('change', function(e) {
            if (e.target.name === 'totalTimeRequirement') toggleTimeFields();
            if (e.target.name === 'trainingType') handleTrainingTypeChange();
            if (e.target.name === 'dietRestrictions') handleDietRestrictionsChange();
            if (e.target.name === 'sleepFactors') handleSleepFactorsChange();
            if (e.target.name === 'weekendDifference') handleWeekendDifferenceChange();
        });

        function handleTrainingTypeChange() {
            const otherTrainingInput = document.getElementById('otherTrainingInput');
            const hasOther = document.querySelector('input[name="trainingType"][value="Inne"]:checked');
            if (hasOther) {
                otherTrainingInput.style.display = 'block';
                otherTrainingInput.setAttribute('aria-hidden', 'false');
            } else {
                otherTrainingInput.style.display = 'none';
                otherTrainingInput.setAttribute('aria-hidden', 'true');
            }
        }

        function handleDietRestrictionsChange() {
            const otherDietInput = document.getElementById('otherDietInput');
            const hasOther = document.querySelector('input[name="dietRestrictions"][value="Inne"]:checked');
            if (hasOther) {
                otherDietInput.style.display = 'block';
                otherDietInput.setAttribute('aria-hidden', 'false');
            } else {
                otherDietInput.style.display = 'none';
                otherDietInput.setAttribute('aria-hidden', 'true');
            }
        }

        function handleSleepFactorsChange() {
            const otherSleepInput = document.getElementById('otherSleepFactorsInput');
            const hasOther = document.querySelector('input[name="sleepFactors"][value="Inne"]:checked');
            if (hasOther) {
                otherSleepInput.style.display = 'block';
                otherSleepInput.setAttribute('aria-hidden', 'false');
            } else {
                otherSleepInput.style.display = 'none';
                otherSleepInput.setAttribute('aria-hidden', 'true');
            }
        }

        function handleWeekendDifferenceChange() {
            const weekendDifferenceInput = document.getElementById('weekendDifferenceInput');
            const isTak = document.querySelector('input[name="weekendDifference"]:checked')?.value === 'Tak';
            if (isTak) {
                weekendDifferenceInput.style.display = 'block';
                weekendDifferenceInput.setAttribute('aria-hidden', 'false');
            } else {
                weekendDifferenceInput.style.display = 'none';
                weekendDifferenceInput.setAttribute('aria-hidden', 'true');
            }
        }

        function validateForm() {
            const errors = [];
            
            // Check required basic fields
            if (!document.getElementById('firstName').value.trim()) {
                errors.push('Imiƒô jest wymagane');
            }
            if (!document.querySelector('input[name="gender"]:checked')) {
                errors.push('P≈Çeƒá jest wymagana');
            }
            if (!document.getElementById('age').value) {
                errors.push('Wiek jest wymagany');
            }
            if (!document.getElementById('height').value) {
                errors.push('Wzrost jest wymagany');
            }
            if (!document.getElementById('weight').value) {
                errors.push('Waga jest wymagana');
            }

            // Check age and weight ranges
            const age = parseInt(document.getElementById('age').value);
            if (age < 18 || age > 120) {
                errors.push('Wiek musi byƒá miƒôdzy 18 a 120 lat');
            }
            const weight = parseFloat(document.getElementById('weight').value);
            if (weight < 30 || weight > 200) {
                errors.push('Waga musi byƒá miƒôdzy 30 a 200 kg');
            }

            if (errors.length > 0) {
                alert('Proszƒô poprawiƒá nastƒôpujƒÖce b≈Çƒôdy:\n\n' + errors.join('\n'));
                return false;
            }
            return true;
        }

        function getFormData() {
            const trainingTypes = Array.from(document.querySelectorAll('input[name="trainingType"]:checked')).map(el => el.value);
            const otherTrainingType = document.getElementById('otherTrainingType').value;
            if (trainingTypes.includes('Inne') && otherTrainingType) {
                trainingTypes[trainingTypes.indexOf('Inne')] = 'Inne: ' + otherTrainingType;
            }

            const dietRestrictions = Array.from(document.querySelectorAll('input[name="dietRestrictions"]:checked')).map(el => el.value);
            const otherDietType = document.getElementById('otherDietType').value;
            if (dietRestrictions.includes('Inne') && otherDietType) {
                const index = dietRestrictions.indexOf('Inne');
                dietRestrictions[index] = 'Inne: ' + otherDietType;
            }

            const sleepFactors = Array.from(document.querySelectorAll('input[name="sleepFactors"]:checked')).map(el => el.value);
            const otherSleepFactorsType = document.getElementById('otherSleepFactorsType').value;
            if (sleepFactors.includes('Inne') && otherSleepFactorsType) {
                const index = sleepFactors.indexOf('Inne');
                sleepFactors[index] = 'Inne: ' + otherSleepFactorsType;
            }

            const data = {
                basic: {
                    firstName: document.getElementById('firstName').value,
                    gender: document.querySelector('input[name="gender"]:checked')?.value,
                    age: document.getElementById('age').value,
                    height: document.getElementById('height').value,
                    weight: document.getElementById('weight').value
                },
                activity: {
                    workMode: document.querySelector('input[name="workMode"]:checked')?.value,
                    sportActivity: document.querySelector('input[name="sportActivity"]:checked')?.value,
                    trainingType: trainingTypes,
                    eveningActivity: document.querySelector('input[name="eveningActivity"]:checked')?.value,
                    weekendActivity: document.querySelector('input[name="weekendActivity"]:checked')?.value,
                    steps: document.getElementById('stepsRange').value
                },
                goals: Array.from(document.querySelectorAll('input[name="goals"]:checked')).map(el => el.value),
                strength: {
                    fatiguePreference: document.querySelector('input[name="fatiguePreference"]:checked')?.value,
                    experience: document.querySelector('input[name="strengthExperience"]:checked')?.value,
                    goal: document.querySelector('input[name="trainingGoal"]:checked')?.value,
                    time: document.querySelector('input[name="trainingTime"]:checked')?.value,
                    timeOfDay: document.querySelector('input[name="trainingTimeOfDay"]:checked')?.value,
                    totalTimeRequirement: document.querySelector('input[name="totalTimeRequirement"]:checked')?.value,
                    trainingDuration: document.getElementById('trainingDuration').value,
                    totalTime: document.getElementById('totalTime').value,
                    showerAtGym: document.querySelector('input[name="showerAtGym"]:checked')?.value,
                    commuteTime: document.getElementById('commuteTime').value,
                    injuries: document.getElementById('injuries').value,
                    pastInjuries: document.getElementById('pastInjuries').value
                },
                sleep: {
                    wakeupTime: document.getElementById('wakeupTime').value,
                    hours: document.getElementById('sleepHours').value,
                    quality: document.querySelector('input[name="sleepQuality"]:checked')?.value,
                    fallAsleep: document.querySelector('input[name="fallAsleep"]:checked')?.value,
                    morningWakeup: document.querySelector('input[name="morningWakeup"]:checked')?.value,
                    snooze: document.querySelector('input[name="snooze"]:checked')?.value,
                    issues: Array.from(document.querySelectorAll('input[name="sleepIssues"]:checked')).map(el => el.value),
                    factors: sleepFactors
                },
                meals: {
                    firstMealTiming: document.querySelector('input[name="firstMealTiming"]:checked')?.value,
                    restrictions: dietRestrictions,
                    proteinFocus: document.querySelector('input[name="proteinFocus"]:checked')?.value,
                    favoriteDishes: document.getElementById('favoriteDishes').value,
                    postBreakfastFeel: Array.from(document.querySelectorAll('input[name="postBreakfastFeel"]:checked')).map(el => el.value),
                    postMainMealFeel: Array.from(document.querySelectorAll('input[name="postMainMealFeel"]:checked')).map(el => el.value)
                },
                wellbeing: {
                    energy: document.querySelector('input[name="energyLevel"]:checked')?.value,
                    mood: document.querySelector('input[name="mood"]:checked')?.value,
                    weekendDifference: document.querySelector('input[name="weekendDifference"]:checked')?.value,
                    weekendDifferenceText: document.getElementById('weekendDifferenceText').value,
                    stress: document.getElementById('stressLevel').value,
                    motivation: document.querySelector('input[name="motivation"]:checked')?.value,
                    symptoms: Array.from(document.querySelectorAll('input[name="symptoms"]:checked')).map(el => el.value),
                    menstrualCycle: document.querySelector('input[name="menstrualCycle"]:checked')?.value,
                    contraception: document.querySelector('input[name="contraception"]:checked')?.value,
                    healthHistory: document.getElementById('healthHistory').value,
                    supplements: document.getElementById('supplements').value,
                    additionalNotes: document.getElementById('additionalNotes').value
                }
            };
            return data;
        }

        function generateSummary() {
            const data = getFormData();
            let html = '';

            html += '<div class="summary-group"><h3>üë§ Dane Podstawowe</h3>';
            html += `<div class="summary-item"><strong>Imiƒô:</strong> <span>${data.basic.firstName || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>P≈Çeƒá:</strong> <span>${data.basic.gender || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Wiek:</strong> <span>${data.basic.age || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Wzrost:</strong> <span>${data.basic.height || '-'} cm</span></div>`;
            html += `<div class="summary-item"><strong>Waga:</strong> <span>${data.basic.weight || '-'} kg</span></div>`;
            if (data.basic.height && data.basic.weight) {
                const bmi = (data.basic.weight / ((data.basic.height / 100) ** 2)).toFixed(1);
                html += `<div class="summary-item"><strong>BMI:</strong> <span>${bmi}</span></div>`;
            }
            html += '</div>';

            html += '<div class="summary-group"><h3>‚ö° Aktywno≈õƒá Fizyczna</h3>';
            html += `<div class="summary-item"><strong>Tryb pracy:</strong> <span>${data.activity.workMode || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Aktywno≈õƒá sportowa:</strong> <span>${data.activity.sportActivity || '-'}</span></div>`;
            if (data.activity.trainingType.length > 0) {
                html += `<div class="summary-item"><strong>Typy treningu:</strong> <span>${data.activity.trainingType.join(', ')}</span></div>`;
            }
            html += `<div class="summary-item"><strong>Aktywno≈õƒá wieczorem:</strong> <span>${data.activity.eveningActivity || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Aktywno≈õƒá w dni wolne:</strong> <span>${data.activity.weekendActivity || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>≈örednia liczba krok√≥w:</strong> <span>${data.activity.steps || '-'}</span></div>`;
            html += '</div>';

            html += '<div class="summary-group"><h3>üéØ Cele</h3>';
            if (data.goals.length > 0) {
                html += `<div class="summary-item"><strong>Wybrane cele:</strong> <span>${data.goals.join(', ')}</span></div>`;
            } else {
                html += `<div class="summary-item"><strong>Cele:</strong> <span>Nie wybrano</span></div>`;
            }
            html += '</div>';

            html += '<div class="summary-group"><h3>üí™ Trening Si≈Çowy</h3>';
            html += `<div class="summary-item"><strong>Preferowany rodzaj zmƒôczenia:</strong> <span>${data.strength.fatiguePreference || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Do≈õwiadczenie:</strong> <span>${data.strength.experience || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>G≈Ç√≥wny cel:</strong> <span>${data.strength.goal || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Dostƒôpny czas:</strong> <span>${data.strength.time || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Preferowany czas:</strong> <span>${data.strength.timeOfDay || '-'}</span></div>`;
            if (data.strength.trainingDuration) {
                html += `<div class="summary-item"><strong>Czas treningu:</strong> <span>${data.strength.trainingDuration} min</span></div>`;
            }
            if (data.strength.totalTime) {
                const hours = Math.floor(data.strength.totalTime / 60);
                const minutes = data.strength.totalTime % 60;
                html += `<div class="summary-item"><strong>Ca≈Çy czas na si≈Çowniƒô:</strong> <span>${hours}h ${minutes}min</span></div>`;
            }
            if (data.strength.showerAtGym) {
                html += `<div class="summary-item"><strong>Prysznic na si≈Çowni:</strong> <span>${data.strength.showerAtGym}</span></div>`;
            }
            if (data.strength.commuteTime) {
                html += `<div class="summary-item"><strong>Czas dojazdu:</strong> <span>${data.strength.commuteTime} min</span></div>`;
            }
            if (data.strength.injuries) {
                html += `<div class="summary-item"><strong>Bie≈ºƒÖce kontuzje/ograniczenia:</strong> <span>${data.strength.injuries}</span></div>`;
            }
            if (data.strength.pastInjuries) {
                html += `<div class="summary-item"><strong>Przesz≈Çe kontuzje/operacje:</strong> <span>${data.strength.pastInjuries}</span></div>`;
            }
            html += '</div>';

            html += '<div class="summary-group"><h3>üò¥ Sen i Regeneracja</h3>';
            html += `<div class="summary-item"><strong>Godzina pobudki:</strong> <span>${data.sleep.wakeupTime || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>≈öredni czas snu:</strong> <span>${data.sleep.hours} h</span></div>`;
            html += `<div class="summary-item"><strong>Jako≈õƒá snu:</strong> <span>${data.sleep.quality || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Zasypianie:</strong> <span>${data.sleep.fallAsleep || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Wstawanie rano:</strong> <span>${data.sleep.morningWakeup || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Drzemka po budziku:</strong> <span>${data.sleep.snooze || '-'}</span></div>`;
            if (data.sleep.issues.length > 0) {
                html += `<div class="summary-item"><strong>Problemy w nocy:</strong> <span>${data.sleep.issues.join(', ')}</span></div>`;
            }
            if (data.sleep.factors.length > 0) {
                html += `<div class="summary-item"><strong>Czynniki wp≈ÇywajƒÖce:</strong> <span>${data.sleep.factors.join(', ')}</span></div>`;
            }
            html += '</div>';

            html += '<div class="summary-group"><h3>üçΩÔ∏è Posi≈Çki</h3>';
            html += `<div class="summary-item"><strong>Czas pierwszego posi≈Çku:</strong> <span>${data.meals.firstMealTiming || '-'}</span></div>`;
            if (data.meals.restrictions.length > 0) {
                html += `<div class="summary-item"><strong>Ograniczenia dietetyczne:</strong> <span>${data.meals.restrictions.join(', ')}</span></div>`;
            }
            html += `<div class="summary-item"><strong>Dbanie o bia≈Çko:</strong> <span>${data.meals.proteinFocus || '-'}</span></div>`;
            if (data.meals.favoriteDishes) {
                html += `<div class="summary-item"><strong>Ulubione potrawy:</strong> <span>${data.meals.favoriteDishes}</span></div>`;
            }
            if (data.meals.postBreakfastFeel.length > 0) {
                html += `<div class="summary-item"><strong>Samopoczucie po pierwszym posi≈Çku:</strong> <span>${data.meals.postBreakfastFeel.join(', ')}</span></div>`;
            }
            if (data.meals.postMainMealFeel.length > 0) {
                html += `<div class="summary-item"><strong>Samopoczucie po g≈Ç√≥wnym posi≈Çku:</strong> <span>${data.meals.postMainMealFeel.join(', ')}</span></div>`;
            }
            html += '</div>';

            html += '<div class="summary-group"><h3>üí≠ Og√≥lne Samopoczucie</h3>';
            html += `<div class="summary-item"><strong>Poziom energii:</strong> <span>${data.wellbeing.energy || '-'}</span></div>`;
            html += `<div class="summary-item"><strong>Nastr√≥j:</strong> <span>${data.wellbeing.mood || '-'}</span></div>`;
            if (data.wellbeing.weekendDifference === 'Tak') {
                html += `<div class="summary-item"><strong>R√≥≈ºnica w dni wolne:</strong> <span>${data.wellbeing.weekendDifferenceText || '-'}</span></div>`;
            }
            html += `<div class="summary-item"><strong>Poziom stresu:</strong> <span>${data.wellbeing.stress}/10</span></div>`;
            html += `<div class="summary-item"><strong>Motywacja do zmian:</strong> <span>${data.wellbeing.motivation || '-'}</span></div>`;
            if (data.wellbeing.symptoms.length > 0) {
                html += `<div class="summary-item"><strong>Objawy:</strong> <span>${data.wellbeing.symptoms.join(', ')}</span></div>`;
            }
            if (data.wellbeing.menstrualCycle) {
                html += `<div class="summary-item"><strong>Regularne cykle miesiƒÖczkowe:</strong> <span>${data.wellbeing.menstrualCycle}</span></div>`;
            }
            if (data.wellbeing.contraception) {
                html += `<div class="summary-item"><strong>Leki antykoncepcyjne:</strong> <span>${data.wellbeing.contraception}</span></div>`;
            }
            if (data.wellbeing.healthHistory) {
                html += `<div class="summary-item"><strong>Historia zdrowotna:</strong> <span>${data.wellbeing.healthHistory}</span></div>`;
            }
            if (data.wellbeing.supplements) {
                html += `<div class="summary-item"><strong>Suplementy/leki:</strong> <span>${data.wellbeing.supplements}</span></div>`;
            }
            if (data.wellbeing.additionalNotes) {
                html += `<div class="summary-item"><strong>Uwagi dodatkowe:</strong> <span>${data.wellbeing.additionalNotes}</span></div>`;
            }
            html += '</div>';

            document.getElementById('summaryContent').innerHTML = html;
        }

        function submitForm() {
            if (!validateForm()) {
                return;
            }

            const data = getFormData();
            const userEmail = document.getElementById('firstName').value; // Will be used for _replyto

            // Submit form to FormSubmit via standard form submission
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = 'https://formsubmit.co/mikefilip.coach@gmail.com';
            form.style.display = 'none';

            // Add all fields as hidden inputs
            const addField = (name, value) => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = name;
                input.value = value;
                form.appendChild(input);
            };

            // Add FormSubmit special fields
            addField('_subject', 'Nowe zg≈Çoszenie do Mike Filip Coaching');
            addField('_replyto', document.querySelector('input[name="user_email"]')?.value || userEmail + '@example.com');
            addField('_next', window.location.origin + window.location.pathname.replace(/[^/]*$/, 'thank-you.html'));
            addField('_captcha', 'false');

            // Add form data
            addField('firstName', data.basic.firstName);
            addField('gender', data.basic.gender);
            addField('age', data.basic.age);
            addField('height', data.basic.height);
            addField('weight', data.basic.weight);
            addField('workMode', data.activity.workMode);
            addField('sportActivity', data.activity.sportActivity);
            addField('trainingType', data.activity.trainingType.join(', '));
            addField('eveningActivity', data.activity.eveningActivity);
            addField('weekendActivity', data.activity.weekendActivity);
            addField('steps', data.activity.steps);
            addField('goals', data.goals.join(', '));
            addField('fatiguePreference', data.strength.fatiguePreference);
            addField('strengthExperience', data.strength.experience);
            addField('trainingGoal', data.strength.goal);
            addField('trainingTime', data.strength.time);
            addField('trainingTimeOfDay', data.strength.timeOfDay);
            addField('totalTimeRequirement', data.strength.totalTimeRequirement);
            addField('trainingDuration', data.strength.trainingDuration);
            addField('totalTime', data.strength.totalTime);
            addField('showerAtGym', data.strength.showerAtGym);
            addField('commuteTime', data.strength.commuteTime);
            addField('injuries', data.strength.injuries);
            addField('pastInjuries', data.strength.pastInjuries);
            addField('wakeupTime', data.sleep.wakeupTime);
            addField('sleepHours', data.sleep.hours);
            addField('sleepQuality', data.sleep.quality);
            addField('fallAsleep', data.sleep.fallAsleep);
            addField('morningWakeup', data.sleep.morningWakeup);
            addField('snooze', data.sleep.snooze);
            addField('sleepIssues', data.sleep.issues.join(', '));
            addField('sleepFactors', data.sleep.factors.join(', '));
            addField('firstMealTiming', data.meals.firstMealTiming);
            addField('dietRestrictions', data.meals.restrictions.join(', '));
            addField('proteinFocus', data.meals.proteinFocus);
            addField('favoriteDishes', data.meals.favoriteDishes);
            addField('postBreakfastFeel', data.meals.postBreakfastFeel.join(', '));
            addField('postMainMealFeel', data.meals.postMainMealFeel.join(', '));
            addField('energyLevel', data.wellbeing.energy);
            addField('mood', data.wellbeing.mood);
            addField('weekendDifference', data.wellbeing.weekendDifference);
            addField('weekendDifferenceText', data.wellbeing.weekendDifferenceText);
            addField('stressLevel', data.wellbeing.stress);
            addField('motivation', data.wellbeing.motivation);
            addField('symptoms', data.wellbeing.symptoms.join(', '));
            addField('menstrualCycle', data.wellbeing.menstrualCycle);
            addField('contraception', data.wellbeing.contraception);
            addField('healthHistory', data.wellbeing.healthHistory);
            addField('supplements', data.wellbeing.supplements);
            addField('additionalNotes', data.wellbeing.additionalNotes);
            addField('submissionDate', new Date().toLocaleDateString('pl-PL'));

            document.body.appendChild(form);
            form.submit();
        }

        function resetForm() {
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
            document.querySelector('#section1').classList.add('active');
            currentSection = 1;
            document.querySelectorAll('input, textarea').forEach(el => {
                if (el.type === 'checkbox' || el.type === 'radio') {
                    el.checked = false;
                } else if (el.type === 'range') {
                    el.value = el.defaultValue;
                } else {
                    el.value = '';
                }
            });
            // Reset range displays
            document.getElementById('stepsValue').textContent = '7000';
            document.getElementById('sleepHoursValue').textContent = '7 h';
            document.getElementById('stressValue').textContent = '5/10';
            document.getElementById('trainingDurationValue').textContent = '60 min';
            document.getElementById('totalTimeValue').textContent = '2 godz 0 min';
            document.getElementById('commuteTimeValue').textContent = '15 min';
            showSection(1);
        }

        function showThankYouPage() {
            document.body.innerHTML = `
                <div style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    min-height: 100vh;
                    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
                    padding: 20px;
                    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
                    color: #e6e6f0;
                    text-align: center;
                ">
                    <div style="max-width: 600px;">
                        <h1 style="
                            font-size: 48px;
                            color: #daa520;
                            margin: 0 0 20px 0;
                            font-family: 'Cinzel', serif;
                            letter-spacing: 1px;
                        ">Dziƒôkujemy!</h1>
                        
                        <p style="
                            font-size: 18px;
                            color: #e6e6f0;
                            margin: 0 0 30px 0;
                            line-height: 1.6;
                        ">
                            Twoje zg≈Çoszenie zosta≈Ço pomy≈õlnie wys≈Çane.<br>
                            Wkr√≥tce skontaktujemy siƒô z TobƒÖ, aby om√≥wiƒá Twoje cele i przygotowaƒá spersonalizowany plan treningowy.
                        </p>
                        
                        <p style="
                            font-size: 14px;
                            color: #969696;
                            margin: 0;
                        ">
                            Mike Filip Coaching
                        </p>
                    </div>
                </div>
            `;
        }

        function generatePDFContent(data) {
            let content = 'MIKE FILIP COACHING - FORMULARZ ZG≈ÅOSZENIOWY\n';
            content += '='.repeat(50) + '\n\n';
            content += `Data: ${new Date().toLocaleDateString('pl-PL')}\n\n`;

            content += 'DANE PODSTAWOWE\n' + '-'.repeat(30) + '\n';
            content += `Imiƒô: ${data.basic.firstName || '-'}\n`;
            content += `P≈Çeƒá: ${data.basic.gender || '-'}\n`;
            content += `Wiek: ${data.basic.age || '-'}\n`;
            content += `Wzrost: ${data.basic.height || '-'} cm\n`;
            content += `Waga: ${data.basic.weight || '-'} kg\n`;
            if (data.basic.height && data.basic.weight) {
                const bmi = (data.basic.weight / ((data.basic.height / 100) ** 2)).toFixed(1);
                content += `BMI: ${bmi}\n`;
            }
            content += '\n';

            content += 'AKTYWNO≈öƒÜ FIZYCZNA\n' + '-'.repeat(30) + '\n';
            content += `Tryb pracy: ${data.activity.workMode || '-'}\n`;
            content += `Aktywno≈õƒá sportowa: ${data.activity.sportActivity || '-'}\n`;
            content += `Typy treningu: ${data.activity.trainingType.join(', ') || '-'}\n`;
            content += `Aktywno≈õƒá wieczorem: ${data.activity.eveningActivity || '-'}\n`;
            content += `Aktywno≈õƒá w dni wolne: ${data.activity.weekendActivity || '-'}\n`;
            content += `≈örednia liczba krok√≥w: ${data.activity.steps || '-'}\n`;
            content += '\n';

            content += 'CELE\n' + '-'.repeat(30) + '\n';
            content += `${data.goals.length > 0 ? data.goals.join('\n') : 'Nie wybrano'}\n\n`;

            content += 'TRENING SI≈ÅOWY\n' + '-'.repeat(30) + '\n';
            content += `Rodzaj zmƒôczenia: ${data.strength.fatiguePreference || '-'}\n`;
            content += `Do≈õwiadczenie: ${data.strength.experience || '-'}\n`;
            content += `G≈Ç√≥wny cel: ${data.strength.goal || '-'}\n`;
            content += `Dostƒôpny czas: ${data.strength.time || '-'}\n`;
            content += `Preferowany czas: ${data.strength.timeOfDay || '-'}\n`;
            content += `Czas treningu: ${data.strength.trainingDuration || '-'} min\n`;
            content += `Ca≈Çy czas: ${data.strength.totalTime || '-'} min\n`;
            content += `Prysznic: ${data.strength.showerAtGym || '-'}\n`;
            content += `Dojazd: ${data.strength.commuteTime || '-'} min\n`;
            content += `Bie≈ºƒÖce kontuzje/ograniczenia: ${data.strength.injuries || 'Brak'}\n`;
            content += `Przesz≈Çe kontuzje/operacje: ${data.strength.pastInjuries || 'Brak'}\n`;
            content += '\n';

            content += 'SEN I REGENERACJA\n' + '-'.repeat(30) + '\n';
            content += `Godzina pobudki: ${data.sleep.wakeupTime || '-'}\n`;
            content += `≈öredni czas snu: ${data.sleep.hours} h\n`;
            content += `Jako≈õƒá snu: ${data.sleep.quality || '-'}\n`;
            content += `Zasypianie: ${data.sleep.fallAsleep || '-'}\n`;
            content += `Wstawanie rano: ${data.sleep.morningWakeup || '-'}\n`;
            content += `Drzemka po budziku: ${data.sleep.snooze || '-'}\n`;
            content += `Problemy w nocy: ${data.sleep.issues.join(', ') || 'Brak'}\n`;
            content += `Czynniki wp≈ÇywajƒÖce: ${data.sleep.factors.join(', ') || 'Brak'}\n`;
            content += '\n';

            content += 'POSI≈ÅKI\n' + '-'.repeat(30) + '\n';
            content += `Czas pierwszego posi≈Çku: ${data.meals.firstMealTiming || '-'}\n`;
            content += `Ograniczenia dietetyczne: ${data.meals.restrictions.join(', ') || 'Brak'}\n`;
            content += `Dbanie o bia≈Çko: ${data.meals.proteinFocus || '-'}\n`;
            content += `Ulubione potrawy: ${data.meals.favoriteDishes || '-'}\n`;
            content += `Samopoczucie po pierwszym posi≈Çku: ${data.meals.postBreakfastFeel.join(', ') || '-'}\n`;
            content += `Samopoczucie po g≈Ç√≥wnym posi≈Çku: ${data.meals.postMainMealFeel.join(', ') || '-'}\n`;
            content += '\n';

            content += 'OG√ìLNE SAMOPOCZUCIE\n' + '-'.repeat(30) + '\n';
            content += `Poziom energii: ${data.wellbeing.energy || '-'}\n`;
            content += `Nastr√≥j: ${data.wellbeing.mood || '-'}\n`;
            content += `R√≥≈ºnica w dni wolne: ${data.wellbeing.weekendDifference === 'Tak' ? (data.wellbeing.weekendDifferenceText || '-') : 'Nie'}\n`;
            content += `Poziom stresu: ${data.wellbeing.stress}/10\n`;
            content += `Motywacja do zmian: ${data.wellbeing.motivation || '-'}\n`;
            content += `Objawy: ${data.wellbeing.symptoms.join(', ') || 'Brak'}\n`;
            content += `Regularne cykle miesiƒÖczkowe: ${data.wellbeing.menstrualCycle || '-'}\n`;
            content += `Leki antykoncepcyjne: ${data.wellbeing.contraception || '-'}\n`;
            content += `Historia zdrowotna: ${data.wellbeing.healthHistory || 'Brak informacji'}\n`;
            content += `Suplementy/leki: ${data.wellbeing.supplements || 'Brak'}\n`;
            content += `Uwagi dodatkowe: ${data.wellbeing.additionalNotes || 'Brak'}\n`;

            return content;
        }

        function printForm() {
            window.print();
        }

        function resetForm() {
            if (confirm('Czy na pewno chcesz zresetowaƒá formularz? Wszystkie dane zostanƒÖ utracone.')) {
                document.querySelectorAll('input[type="text"], input[type="number"], textarea').forEach(el => el.value = '');
                document.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(el => el.checked = false);
                document.getElementById('stepsRange').value = 7000;
                document.getElementById('stepsValue').textContent = '7000';
                document.getElementById('sleepHours').value = 7;
                document.getElementById('sleepHoursValue').textContent = '7 h';
                document.getElementById('stressLevel').value = 5;
                document.getElementById('stressValue').textContent = '5/10';
                document.getElementById('trainingDuration').value = 60;
                document.getElementById('trainingDurationValue').textContent = '60 min';
                document.getElementById('totalTime').value = 120;
                document.getElementById('totalTimeValue').textContent = '2 godz 0 min';
                document.getElementById('commuteTime').value = 15;
                document.getElementById('commuteTimeValue').textContent = '15 min';
                currentSection = 1;
                showSection(1);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            initProgressBar();
            showSection(1);

            // Range sliders
            const stepsRange = document.getElementById('stepsRange');
            const sleepRange = document.getElementById('sleepHours');
            const stressRange = document.getElementById('stressLevel');
            const trainingDurationRange = document.getElementById('trainingDuration');
            const totalTimeRange = document.getElementById('totalTime');
            const commuteTimeRange = document.getElementById('commuteTime');

            stepsRange?.addEventListener('input', function() {
                document.getElementById('stepsValue').textContent = this.value;
            });

            sleepRange?.addEventListener('input', function() {
                document.getElementById('sleepHoursValue').textContent = this.value + ' h';
            });

            stressRange?.addEventListener('input', function() {
                document.getElementById('stressValue').textContent = this.value + '/10';
            });

            trainingDurationRange?.addEventListener('input', function() {
                document.getElementById('trainingDurationValue').textContent = this.value + ' min';
            });

            totalTimeRange?.addEventListener('input', function() {
                const hours = Math.floor(this.value / 60);
                const minutes = this.value % 60;
                document.getElementById('totalTimeValue').textContent = hours + ' godz ' + minutes + ' min';
            });

            commuteTimeRange?.addEventListener('input', function() {
                document.getElementById('commuteTimeValue').textContent = this.value + ' min';
            });

            // Conditional fields for training time
            const totalTimeRequirementRadios = document.querySelectorAll('input[name="totalTimeRequirement"]');
            totalTimeRequirementRadios.forEach(radio => {
                radio.addEventListener('change', toggleTimeFields);
            });

            // Other training type
            const otherTrainingCheckbox = document.querySelector('input[name="trainingType"][value="Inne"]');
            const otherTrainingInput = document.getElementById('otherTrainingInput');
            otherTrainingCheckbox?.addEventListener('change', function() {
                otherTrainingInput.style.display = this.checked ? 'block' : 'none';
            });

            // Other diet restrictions
            const otherDietCheckbox = document.querySelector('input[name="dietRestrictions"][value="Inne"]');
            const otherDietInput = document.getElementById('otherDietInput');
            otherDietCheckbox?.addEventListener('change', function() {
                otherDietInput.style.display = this.checked ? 'block' : 'none';
            });

            // Other sleep factors
            const otherSleepFactorsCheckbox = document.querySelector('input[name="sleepFactors"][value="Inne"]');
            const otherSleepFactorsInput = document.getElementById('otherSleepFactorsInput');
            otherSleepFactorsCheckbox?.addEventListener('change', function() {
                otherSleepFactorsInput.style.display = this.checked ? 'block' : 'none';
            });

            // Weekend difference
            const weekendDifferenceRadios = document.querySelectorAll('input[name="weekendDifference"]');
            const weekendDifferenceInput = document.getElementById('weekendDifferenceInput');
            weekendDifferenceRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    weekendDifferenceInput.style.display = this.value === 'Tak' ? 'block' : 'none';
                });
            });

            // Female-specific fields visibility
            const genderRadios = document.querySelectorAll('input[name="gender"]');
            const menstrualCycleField = document.getElementById('menstrualCycleField');
            const contraceptionField = document.getElementById('contraceptionField');
            
            function updateFemaleFields() {
                const selectedGender = document.querySelector('input[name="gender"]:checked')?.value;
                const isFemale = selectedGender === 'Kobieta';
                menstrualCycleField.style.display = isFemale ? 'block' : 'none';
                contraceptionField.style.display = isFemale ? 'block' : 'none';
            }

            genderRadios.forEach(radio => {
                radio.addEventListener('change', updateFemaleFields);
            });

            // Initial check
            updateFemaleFields();
        });
    </script>
</body>
</html>
